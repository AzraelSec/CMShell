{
    "name" : "cd",
    "description" : "cd [directory]",
    "source" : [
                "function(env, args)",
                "{",
                    "if(args.length > 0)",
                    "{",
                        "if(args[0] != null)",
                        "{",
                            "var dir = env.file_eval_obj(args[0]);",
                            "if(dir)",
                                "if(dir['type'] == 'directory')",
                                "{",
                                    "env.directory_position = dir['path'] + dir['filename'] + '/';",
                                    "env.push_output('');",
                                "}",
                                "else if(dir == env.file_informations)",
                                "{",
                                    "env.directory_position = '/'",
                                    "env.push_output('');",
                                "}",
                                "else",
                                    "env.push_output(\"cd: Can't change directory to file or link\");",
                            "else",
                                "env.push_output('cd: Unknown directory');",
                        "}",
                        "else",
                            "env.push_output('usage: cd [directory]');",
                    "}",
                    "else",
                        "env.push_output('cd: Too few parameters.');",
                "}"
               ]
}